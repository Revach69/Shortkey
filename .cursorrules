# Spellify - Cursor AI Rules

## ğŸ“š Read These Documents Before Making ANY Changes

**CRITICAL: Always read and follow these documents:**

1. **`docs/BEST_PRACTICES.md`** - Code style, conventions, and patterns
2. **`docs/ARCHITECTURE.md`** - System design and structure
3. **`docs/FEATURES.md`** - Feature specifications
4. **`docs/DEVELOPMENT.md`** - Development workflow

---

## ğŸ¯ Core Rules (Must Follow)

### Localization
- âŒ **NEVER use hardcoded strings** in production code
- âœ… **ALWAYS use** `Strings.swift` for user-facing text
- âœ… **ALWAYS use** `Constants.swift` for non-translatable values

### File Size
- âœ… Keep files **< 150 lines** (preferred)
- âœ… Max **200 lines** absolute limit
- âœ… If larger, **break into small components** under a new folder

### Component Structure
- âœ… One component per file
- âœ… Single Responsibility Principle
- âœ… Group related components in subfolders

### Code Quality
- âœ… Follow **SOLID principles**
- âœ… Follow **Apple HIG**
- âœ… Add **SwiftUI previews**
- âœ… Use **proper MARK sections**
- âœ… Add **documentation comments**

---

## ğŸ“– Examples in Codebase

### Perfect Component Examples:
- `Views/Sheets/ActionEditor/ActionIconPicker.swift` - Small, focused component
- `Views/Sheets/ActionEditor/ActionNameField.swift` - Simple input field
- `Views/Settings/Components/ConnectionStatusRow.swift` - Display component

### Perfect Manager Examples:
- `Managers/ActionsManager.swift` - CRUD with persistence
- `Managers/AIProviderManager.swift` - Business logic with async

### Perfect Service Examples:
- `Services/KeychainService.swift` - System service with protocol

---

## ğŸš« Anti-Patterns (Never Do)

```swift
// âŒ BAD: Hardcoded strings
Text("Save")
Button("Delete")

// âŒ BAD: Magic numbers
.padding(17)

// âŒ BAD: Large files (> 200 lines)
struct HugeView: View {
    // 300+ lines
}

// âŒ BAD: Missing documentation
struct MyView: View {
    // What does this do?
}
```

---

## âœ… Correct Patterns (Always Do)

```swift
// âœ… GOOD: Localized strings
Text(Strings.ActionEditor.save)
Button(Strings.Common.delete)

// âœ… GOOD: Use constants
.padding(Constants.standardPadding)

// âœ… GOOD: Small, focused components
struct HeaderView: View {
    // 40 lines max
}

// âœ… GOOD: Clear documentation
/// Displays the action editor header with title
struct HeaderView: View {
    // Implementation
}
```

---

## ğŸ”„ Workflow

**Before writing ANY code:**
1. Read `docs/BEST_PRACTICES.md`
2. Check similar components in codebase
3. Follow existing patterns
4. Keep it small and focused

**When asked to create a component:**
1. Check if similar component exists
2. Follow its structure
3. Use Strings.swift for text
4. Keep < 150 lines
5. Add preview

**When asked to refactor:**
1. Break large files into small components
2. Extract hardcoded strings to Strings.swift
3. Move magic numbers to Constants.swift
4. Follow patterns in docs/BEST_PRACTICES.md

---

## ğŸ“ Learn from Existing Code

**Good component structure:**
```
Views/Sheets/ActionEditor/
â”œâ”€â”€ ActionEditorHeader.swift      (35 lines)
â”œâ”€â”€ ActionIconPicker.swift        (67 lines)
â”œâ”€â”€ ActionNameField.swift         (39 lines)
â”œâ”€â”€ ActionPromptEditor.swift      (59 lines)
â””â”€â”€ ActionEditorFooter.swift      (79 lines)
```

**Main file is just a coordinator:**
```
Views/Sheets/
â””â”€â”€ ActionEditorSheet.swift       (118 lines - composes components)
```

---

## ğŸ“ Remember

- **Read the docs** before every change
- **Follow existing patterns** in the codebase
- **Keep it simple** and focused
- **No hardcoded strings** ever
- **Small components** always

---

**Documentation is the source of truth. When in doubt, check the docs!**
